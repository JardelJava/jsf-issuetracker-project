<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:ui="http://java.sun.com/jsf/facelets">
	
	<f:view locale="pt_BR">
	
	
	<!-- Um alias para facilitar nossa vida -->
	<c:set var="ctx" value="#{request.contextPath}" scope="request"/>
	
	<h:head>
       <title>Issue Tracker</title>
       <h:outputStylesheet library="css" name="app.css" />
    </h:head>
	
	<body>
	
		<h:panelGroup rendered="#{usuarioWeb.logado}" layout="block">
			<div id="userInfo">
				<h:form id="logout_form"> 
					<p>
						#{usuarioWeb.usuario.login} -
						<h:commandLink value="Sair" action="#{loginBean.sair}"/>
					</p>
				</h:form>
			</div>
			<div id="menuWrap">
				<ul id="menuElementsEn">
					<li><a href="${ctx}/home.xhtml">Home</a></li>
					<li><a href="${ctx}/pages/dashboard/dashboard.xhtml">Dashboard</a></li>
					<li><a href="${ctx}/pages/projeto/lista.xhtml">Projetos</a></li>
					<li><a href="${ctx}/pages/usuario/lista.xhtml">Usuarios</a></li>
					<li><a href="${ctx}/pages/issue/lista.xhtml">Issues</a></li>
				</ul><!-- menuElements-->
			</div><!-- menuWrap-->
		</h:panelGroup>
		
		<h:panelGroup id="mensagens" layout="block">
			<h:messages infoClass="notice" errorClass="errors" 
				globalOnly="false" />
		</h:panelGroup>
		
		<div id="contentWrap" align="center">
			<div id="container" align="left">
				<h1>Cadastro de Usuários - #{text['app.welcome']}</h1>
				
				<h:form>
					<h:outputLabel value="Nome" for="nome" />
					<h:inputText id="nome" styleClass="texto-longo"
						value="#{usuarioBean.usuario.nome}" 
						label="Nome" 
						required="true" />
					<h:outputLabel value="Login" for="login" />
					<h:inputText id="login" 
						value="#{usuarioBean.usuario.login}" 
						label="Login"
						required="true">
						<f:validateLength minimum="4" />
					</h:inputText>
					<h:outputLabel value="E-mail" for="email" />
					<h:inputText id="email" 
						value="#{usuarioBean.usuario.email}" 
						label="E-mail" 
						required="true" />
					<fieldset class="confirma-senha">
						<legend>Entre com a senha e confirmação de senha</legend>
						<h:outputLabel value="Senha" for="senha" />
						<h:inputSecret id="senha" 
							value="#{usuarioBean.usuario.senha}" 
							label="Senha" 
							required="true" />
						<h:outputLabel value="Confirma" for="confirmacaoDeSenha" />
						<h:inputSecret id="confirmacaoDeSenha" 
							value="#{usuarioBean.confirmacaoDeSenha}"
							label="Confirma" 
							required="true" />
					</fieldset>
					<div align="right">
						<h:commandLink value="Voltar" /> &#160;
						<h:commandButton value="Salvar" 
							action="#{usuarioBean.adiciona}"/>
					</div>
				</h:form>
				
			</div>
		</div>
		
		<div id="footerWrap">
		     <div class="footbar" >
				<p>
					<a href="${ctx}">Issue Tracker</a> - Registrando Bugs e Features para toda a vida
				</p>
			</div><!-- footer content -->
		</div><!-- footer wrap-->
		
	</body>
	
	</f:view>
</html>